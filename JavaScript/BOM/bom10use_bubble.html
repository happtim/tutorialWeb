<!DOCTYPE HTML>
<html>
	<head>
		<title>取消与利用冒泡</title>
		<meta charset="utf-8"/>
		<style>
			
		</style>
		<script>
			/*2. 利用冒泡，简化计算器程序*/
			function calc(e){
				//从e中获得目标元素按钮,保存在target中
				var target=e.srcElement||e.target;
				if(target.nodeName=="BUTTON"){//只有点按钮
					//按id找到文本域对象，保存在sc中
					var sc=document.getElementById("sc");
					//如果target的内容是"C"
					if(target.innerHTML=="C"){
						sc.innerHTML="";//清空sc的内容
					}else if(target.innerHTML=="="){
					//否则 如果target的内容是"="
				// 将sc的内容传入eval中执行，结果再放回sc
						try{
						  sc.innerHTML=eval(sc.innerHTML);
						}catch(err){
							sc.innerHTML=err.message;
						}
					}else{//否则
						//将target的内容，追加到sc的内容上
						sc.innerHTML+=target.innerHTML;
					}
				}
			}
		</script>
	</head>
	<body>
		<div onclick="calc(event)"><!--this-div-->
			<button>1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button><br>
			<button>C</button>
			<button>+</button>
			<button>-</button>
			<button>=</button>
		</div>
		<textarea id="sc" style="resize:none;width:200px; height:50px;" readonly></textarea>
	</body>
</html>